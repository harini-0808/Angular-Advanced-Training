<div class="prod-container">
  <form action="" (ngSubmit)="OnSubmit()" #form name="productForm">
    <h2>Create a new product</h2>
    <div class="mb-3">
      <label for="pid" class="form-label">Product ID</label>
      <input
        [(ngModel)]="product.productId"
        type="text"
        name="pid"
        id="pid"
        class="form-control"
        placeholder="p01"
        required
        minlength="4"
        #pid="ngModel"
        appForbiddenPid={{product.productId}}
      />
      <div *ngIf="pid.invalid && (pid.dirty || pid.touched)" class="alert">
        <div *ngIf="pid.errors?.['required']">Product ID can't be empty</div>
        <div *ngIf="pid.errors?.['minlength']">
          Product ID must be atleast 4 characters long
        </div>
        <div *ngIf="pid.errors?.['forbiddenPid']">
            Product ID must begin with 'p'
          </div>
      </div>
    </div>
    <div class="mb-3">
      <label for="desc" class="form-label">Description</label>
      <input
        [(ngModel)]="product.description"
        type="text"
        name="desc"
        id="desc"
        minlength="8"
        class="form-control"
        placeholder="Samsung A10"
        required
        #desc="ngModel"
      />
      <div class="alert" *ngIf="desc.invalid && (desc.touched || desc.dirty)">
        <div *ngIf="desc.errors?.['required']">Description can't be empty</div>
        <div *ngIf="desc.errors?.['minlength']">
          Description must be 8 characters long
        </div>
      </div>
    </div>
    <div class="mb-3">
      <label for="brand" class="form-label">Brand</label>
      <input
        [(ngModel)]="product.brand"
        type="text"
        name="brand"
        id="brand"
        class="form-control"
        placeholder="Samsung"
        required
        #brand="ngModel"
      />
      <div
        class="alert"
        *ngIf="brand.invalid && (brand.touched || brand.dirty)"
      >
        <div *ngIf="brand.errors?.['required']">brand must be prvided</div>
      </div>
    </div>
    <div class="mb-3">
      <label for="category" class="form-label">Category</label>
      <input
        [(ngModel)]="product.category"
        type="text"
        name="category"
        id="category"
        class="form-control"
        placeholder="Mobile"
        required
        #category="ngModel"
      />
      <div
        class="alert"
        *ngIf="category.invalid && (category.touched || category.dirty)"
      >
        <div *ngIf="category.errors?.['required']">
          Category must be provided
        </div>
      </div>
    </div>

    <input type="submit" class="btn btn-primary" value="Add" />
  </form>
</div>
